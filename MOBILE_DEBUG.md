# Отладка мобильной версии Valet Mobile

## Проблема
Авторизация в valet-mobile не работает с мобильного устройства, хотя на компьютере все функционирует корректно.

## Диагностика

### 1. Узнайте IP адрес вашего компьютера
Выполните команду:
```bash
ipconfig
```
Найдите IP адрес вашего компьютера в локальной сети (например, 172.20.10.6).

### 2. Проверьте доступность с мобильного
Откройте на телефоне браузер и перейдите по адресу:
```
http://ВАШ_IP_АДРЕС/valet-mobile
```
Например: `http://172.20.10.6/valet-mobile`

### 3. Тестирование API
Откройте на телефоне:
```
http://ВАШ_IP_АДРЕС/test-valet-mobile-auth.html
```

Эта страница автоматически определит правильный API URL и протестирует авторизацию.

## Тестовые данные
- **Email**: `valet@test.com`
- **Пароль**: `valet123`

## Логи

### Просмотр логов backend
```bash
docker-compose logs -f backend
```

### Просмотр логов frontend
```bash
docker-compose logs -f frontend
```

### Логи в браузере мобильного устройства
1. Откройте DevTools в браузере мобильного устройства
2. Посмотрите Console на наличие ошибок
3. Посмотрите Network tab на наличие failed запросов

## Исправления

### Обновленная конфигурация
1. **CORS** - добавлены дополнительные IP адреса
2. **API URL** - автоматическое определение текущего хоста
3. **Логирование** - детальные логи для диагностики

### Если проблема сохраняется

1. **Проверьте firewall** - возможно блокируются подключения к портам 80 и 8000
2. **Проверьте сеть** - убедитесь что телефон и компьютер в одной сети
3. **Попробуйте другой браузер** на мобильном устройстве

## Быстрый перезапуск
Выполните:
```bash
./restart-docker.bat
```

## Проверка работы

После перезапуска:
1. Убедитесь что все контейнеры запущены: `docker-compose ps`
2. Проверьте доступность фронтенда: `http://localhost/valet-mobile`
3. Проверьте доступность API: `http://localhost/api/v1/valet-auth/profile`
4. Протестируйте с мобильного: `http://ВАШ_IP/test-valet-mobile-auth.html` 